<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sitemap Generator | Optimizer</title>

<style>
        * {
            margin: 0; padding: 0;
            font-family: 'Poppins', sans-serif;
            box-sizing: border-box;
        }

        body {
            background: #ffffff;
        }

        /* HEADER */
        header {
    width:100%;
    background:#fff;
    border-bottom:1px solid #efefef;
    padding:15px 40px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    position:sticky;
    top:0;
    z-index:1000;
  }
  .logo { font-size:28px; font-weight:bold; color:#ff4d4d; text-decoration:none; }
  nav { display:flex; align-items:center; gap:20px; }
  nav a { text-decoration:none; color:#333; font-size:16px; transition:0.3s; }
  nav a:hover { color:#ff4d4d; }

        .cta-btn {
            background: #ff4d4d;
            color: white;
            padding: 10px 20px;
            border-radius: 6px;
            text-decoration: none;
            font-size: 15px;
        }


  /* TOOL SECTION */
  .tool-section {
    padding:80px 20px;
    display:flex;
    flex-direction:column;
    align-items:center;
    text-align:center;
  }
  .tool-section h1 { font-size:36px; color:#222; margin-bottom:10px; }
  .tool-section p { font-size:16px; color:#555; margin-bottom:40px; }

  .tool-box {
    display:flex;
    flex-wrap:wrap;
    justify-content:center;
    gap:10px;
    margin-bottom:20px;
  }
  .tool-box input[type="url"] {
    padding:12px;
    width:300px;
    border-radius:6px;
    border:1px solid #ccc;
    font-size:16px;
  }
  .tool-box button {
    padding:12px 25px;
    border:none;
    border-radius:6px;
    background:#ff4d4d;
    color:#fff;
    font-weight:bold;
    cursor:pointer;
    transition:0.3s;
  }
  .tool-box button:hover { background:#e04343; }

  /* LOADING */
  #loading { margin-top:10px; color:#ff4d4d; font-weight:bold; }

  /* RESULT BOX */
  .result-box {
    width:80%;
    max-width:800px;
    margin:40px auto 0 auto;
    text-align:left;
    background:#fff;
    padding:25px;
    border-radius:12px;
    box-shadow:0 12px 30px rgba(0,0,0,.1);
  }
  .result-box h3 { margin-bottom:15px; color:#ff4d4d; }
  .result-box textarea {
    width:100%;
    height:300px;
    padding:15px;
    font-family:monospace;
    font-size:14px;
    border-radius:6px;
    border:1px solid #ccc;
    background:#f9f9f9;
    resize:none;
  }
  .download-btn {
    margin-top:20px;
    padding:12px 25px;
    border:none;
    border-radius:6px;
    background:#28a745;
    color:#fff;
    font-weight:bold;
    cursor:pointer;
    transition:0.3s;
  }
  .download-btn:hover { background:#218838; }

  /* FOOTER */
  footer {
    text-align:center;
    padding:22px;
    background:#fff;
    border-top:1px solid #efefef;
    margin-top:60px;
    font-size:14px;
  }

  /* RESPONSIVE */
  @media(max-width:768px){
    header { padding:15px 20px; }
    .tool-box { flex-direction:column; }
    .tool-box input { width:100%; }
  }
</style>
</head>
<body>

<header>
  <a href="/public/index.html" class="logo">Optimizer</a>
  <nav>
    <a href="/public/">Home</a>
    <a href="/public/">Services</a>
    <a href="/public/blog.html">Blogs</a>
    <a href="/public/about.html">About</a>
    <a href="/public/contact.html">Contact</a>
    <a href="sitemap-tool.html" class="active">Tools</a>
  </nav>
  
        <a href="#enquiry" class="cta-btn">Get Quote</a>
</header>

<section class="tool-section">
  <h1>Sitemap Generator Tool</h1>
  <p>Enter your website URL and generate a sitemap that you can download as XML.</p>

  <div class="tool-box">
    <input type="url" id="siteUrl" placeholder="https://example.com" required>
    <button onclick="generateSitemap()">Generate</button>
  </div>

  <div id="loading" style="display:none;">Generating sitemap, please wait...</div>

  <div id="resultContainer" class="result-box" style="display:none;">
    <h3>Sitemap Preview</h3>
    <textarea id="sitemapOutput" readonly></textarea>
    <button class="download-btn" onclick="downloadXML()">Download XML</button>
  </div>
</section>

<footer>
  © 2025 Optimizer – Digital Marketing Agency. All Rights Reserved.
</footer>

<script>
async function generateSitemap() {
    const url = document.getElementById("siteUrl").value.trim();
    const loading = document.getElementById("loading");
    const resultContainer = document.getElementById("resultContainer");
    const sitemapOutput = document.getElementById("sitemapOutput");

    if (!url) {
        alert("Please enter a valid URL!");
        return;
    }

    loading.style.display = "block";
    resultContainer.style.display = "none";
    sitemapOutput.value = "";

    try {
        const response = await fetch(`http://localhost:8080/api/sitemap/generate?url=${encodeURIComponent(url)}`);
        if (!response.ok) throw new Error("Failed to generate sitemap");
        const xmlText = await response.text();
        sitemapOutput.value = xmlText;
        resultContainer.style.display = "block";
    } catch (err) {
        alert("Error: " + err.message);
    } finally {
        loading.style.display = "none";
    }
}

function downloadXML() {
    const text = document.getElementById("sitemapOutput").value;
    const blob = new Blob([text], { type: "text/xml" });
    const url = URL.createObjectURL(blob);
    const a = document.createElement("a");
    a.href = url;
    a.download = "sitemap.xml";
    a.click();
}
</script>

</body>
</html>
